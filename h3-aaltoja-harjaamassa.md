## h3 Aaltoja harjaamassa

Teht√§v√§t ovat Tero Karvisen ja Lari Iso-Anttilan opintojaksolta [Verkkoon tunkeutuminen ja tiedustelu](https://terokarvinen.com/verkkoon-tunkeutuminen-ja-tiedustelu/) [^1].

---

#### Laite jolla teht√§v√§t tehd√§√§n:

- Apple MacBook Pro M2 Max
- macOS Sequoia 15.3.2
- Parallels Desktop

---

### x) Lue ja tiivist√§.

- Hubacek 2019: Universal Radio Hacker SDR Tutorial on 433 MHz radio plugs, YouTube kanava hubmartin [^13]

    - Videolla hubmartin skannaa ja tallentaa kotielektroniikkal√§hettimest√§ signaalia Universal Radio Hackerilla.
    - kun urh:lla maalaa signaali alueen, pit√§isi pituuden olla suurinpiirtein yht√§ pitk√§ kuin bit length.
    - messageiden tai skannattujen aaltojen arvojen olisi ilmeisesti hyv√§ olla samanlaisia kesken√§√§n.
    - Bith Length ja Error Tolerance tulisi s√§√§dell√§ sopivaksi.

- Cornelius 2022: Decode 433.92 MHz weather station data [^14]

    - basic carrier p√§√§lle ja pois on digitaalinen muoto amplitudi modulaatiosta (AM) ja sit√§ kutsutaan amplitude shift key:ksi kun carrierilla voi olla v√§hint√§√§n yksi fixed amplitude aalto. 
    - Bits/Symbols, joka on Corneliuksen (ja minun urh:ssa) tulisi Corneliuksen mukaan olla symbols per bit, joka on varmaankin arvo mit√§ hubmartin videollaan s√§√§ti.


---


### a) WebSDR. Et√§k√§yt√§ WebSDR-ohjelmaradiota, joka on kaukana sinusta ja kuuntele radioliikennett√§.

Avasin websdr.org nettisivun [^2] ja valitsin ensimm√§isen:

![img.png](img/h3-aaltoja-harjaamassa/img.png)

Valitsin linkin ja seuraavaksi olin t√§ss√§ n√§kym√§ss√§ [^3]:

![img_2.png](img/h3-aaltoja-harjaamassa/img_2.png)

##### Kerro l√∂yt√§m√§si taajuus, aallonpituus ja modulaatio.

![img_1.png](img/h3-aaltoja-harjaamassa/img_1.png)

L√∂ysin taajuuden, jossa selke√§sti puhuttiin englanniksi (britti aksentilla) politiikasta. V√§lill√§ tuli mainoksia, joten kyseess√§ oli varmastikkin kaupallinen kanava. 

- Taajuus: 13764.70 kHz
- Aallonpituus: 21.77980326 m [^5]
- Modulaatio: amplitudimodulaation (AM) [^4]

Aallonpituuden voisi laskea my√∂s itse laskemalla 299,792,458 m/s / 13764700 Hz

---

### b) rtl_433. Asenna rtl_433 automaattista analyysia varten.

Kokeilin Karvisen sivun ohjeilla [^1] ja lopulta p√§√§dyin rtl_433 GitHub sivuille [^6] ja huomasin, ett√§ komento ohjelman nimi onkin paketinhallinnassa -:lla. 

```
sudo apt-get install rtl-433
```

```
‚îå‚îÄ‚îÄ(parallels„âøkali-linux-2024-2)-[~]
‚îî‚îÄ$ rtl_433  
rtl_433 version 25.02 (2025-02-19) inputs file rtl_tcp RTL-SDR SoapySDR
[SDR] No supported devices found.
```

---

### c) Automaattinen analyysi. Mit√§ t√§ss√§ n√§ytteess√§ tapahtuu? Mit√§ tunnisteita (id yms) l√∂yd√§t?

Karvisen sivun ohjeilla [^1] ajoin komennon

- -r - datan lukeminen input tiedostosta vastaanottimen sijaan [^7]

```
rtl_433 -r Converted_433.92M_2000k.cs8
```

```bash
‚îå‚îÄ‚îÄ(parallels„âøkali-linux-2024-2)-[~/Documents/radio]
‚îî‚îÄ$ rtl_433 -r Converted_433.92M_2000k.cs8
rtl_433 version 25.02 (2025-02-19) inputs file rtl_tcp RTL-SDR SoapySDR
[Input] Test mode active. Reading samples from file: Converted_433.92M_2000k.cs8
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
time      : @0.083284s                                                                                      
model     : KlikAanKlikUit-Switch                  id        : 8785315
Unit      : 0            Group Call: No            Command   : Off           Dim       : No
Dim Value : 0
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
time      : @0.083284s                                                                                      
model     : Proove-Security                        House Code: 8785315
Channel   : 3            State     : OFF           Unit      : 3             Group     : 0
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
time      : @0.083284s                                                                                      
model     : Nexa-Security House Code: 8785315
Channel   : 3            State     : OFF           Unit      : 3             Group     : 0
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
time      : @0.163125s                                                                                      
model     : KlikAanKlikUit-Switch                  id        : 8785315
Unit      : 0            Group Call: No            Command   : Off           Dim       : No
Dim Value : 0
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
time      : @0.163125s                                                                                      
model     : Proove-Security                        House Code: 8785315
Channel   : 3            State     : OFF           Unit      : 3             Group     : 0
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
time      : @0.163125s                                                                                      
model     : Nexa-Security House Code: 8785315
Channel   : 3            State     : OFF           Unit      : 3             Group     : 0
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
time      : @0.242956s                                                                                      
model     : KlikAanKlikUit-Switch                  id        : 8785315
Unit      : 0            Group Call: No            Command   : Off           Dim       : No
Dim Value : 0
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
time      : @0.242956s                                                                                      
model     : Proove-Security                        House Code: 8785315
Channel   : 3            State     : OFF           Unit      : 3             Group     : 0
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
time      : @0.242956s                                                                                      
model     : Nexa-Security House Code: 8785315
Channel   : 3            State     : OFF           Unit      : 3             Group     : 0
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
time      : @0.383568s                                                                                      
model     : KlikAanKlikUit-Switch                  id        : 8785315
Unit      : 0            Group Call: No            Command   : Off           Dim       : No
Dim Value : 0
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
time      : @0.383568s                                                                                      
model     : Proove-Security                        House Code: 8785315
Channel   : 3            State     : OFF           Unit      : 3             Group     : 0
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
time      : @0.383568s                                                                                      
model     : Nexa-Security House Code: 8785315
Channel   : 3            State     : OFF           Unit      : 3             Group     : 0
                                                                                                            
```

Tunnisteet jotka l√∂yd√§n ovat: 

- aika (time)
- malli (model
- kanava (channel)
- yksikk√∂ (unit)
- dim arvo (dim value)

Aika kasvaa kolmen rypp√§iss√§.

Malli vaihtuu my√∂s kolmen rypp√§isss√§ tai se menee toistuvaa kiertoa, jossa on KlikAanKlikUit-Switch, Proove-Security ja Nexa-Security. KlikAanKlikUit-Switch on id: 8785315, kun taas molemmilla Securityill√§ on House Code, joka on sama kuin KlikAanKlikUit-Switch id. 

Kanava on KlikAanKlikUit-Switch:ll√§ 0 ja molemmilla Securityill√§ se on 3 ja lis√§ski Securityill√§ on State: Off Unit: 3 ja Group 0

Ainoastaan KlikAanKlikUit-Switch on Unit, jolla on joka kerralla samat arvot: 0, Group Call: no, Command: Off, Dim: No

Ainoastaan KlikAanKlikUit-Switch:ll√§ on dim value ja sen on jokakerta 0. 

Googlaamalla l√∂ytyy, ett√§ KlikAanKlikUit-Switch tekee ainakin valojen katkaisimia. [^8]

---

### d) Too compex 16? Olet nauhoittanut n√§ytteen 'urh' -ohjelmalla .complex16s-muodossa. Muunna n√§yte rtl_433-yhteensopivaan muotoon ja analysoi se.

Kokeilin ensin rtl_433 dockista [^9] lukemani perusteella seuraavaa komentoa, mutta se ei toiminut. 

```bash
‚îå‚îÄ‚îÄ(parallels„âøkali-linux-2024-2)-[~/Documents/radio]
‚îî‚îÄ$ rtl_433 Recorded-HackRF-20250411_183354-433_92MHz-2MSps-2MHz.complex16s Converttest_433.92M_2000k.cs8
rtl_433 version 25.02 (2025-02-19) inputs file rtl_tcp RTL-SDR SoapySDR
[Input] Test mode active. Reading samples from file: Recorded-HackRF-20250411_183354-433_92MHz-2MSps-2MHz.complex16s
[Input] Opening file "Converttest_433.92M_2000k.cs8" failed!
```

Karvisen teht√§v√§nannon vinkkien mukaan "vain tiedoston nimi muuttuu" [^1] ja luettuani rtl_433 dockia [^2] niin nimesin tiedoston uudestaan. Lukeminen ei kuitenkaan onnistunut. 

```bash
‚îå‚îÄ‚îÄ(parallels„âøkali-linux-2024-2)-[~/Documents/radio]
‚îî‚îÄ$ rtl_433 -r converttest_433.92M_2000k.cs8                                                                
rtl_433 version 25.02 (2025-02-19) inputs file rtl_tcp RTL-SDR SoapySDR
[Input] Test mode active. Reading samples from file: converttest_433.92M_2000k.cs8
```

Latasin tiedoston uudestaan ja muutin nimen, jonka j√§lkeen luku toimi. Voi olla, ett√§ se ensimm√§isen latauksen tiedosto korruptoitu jotenkin, kun kokeilin kaikkea sen kanssa ü§î.

```bash
‚îå‚îÄ‚îÄ(parallels„âøkali-linux-2024-2)-[~/Documents/radio]
‚îî‚îÄ$ rtl_433 -r conv_433.92M_2000k.cs8 
rtl_433 version 25.02 (2025-02-19) inputs file rtl_tcp RTL-SDR SoapySDR
[Input] Test mode active. Reading samples from file: conv_433.92M_2000k.cs8
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
time      : @0.083284s                                                                                                                                       
model     : KlikAanKlikUit-Switch                  id        : 8785315
Unit      : 0            Group Call: No            Command   : Off           Dim       : No            Dim Value : 0
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
time      : @0.083284s                                                                                                                                       
model     : Proove-Security                        House Code: 8785315
Channel   : 3            State     : OFF           Unit      : 3             Group     : 0
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
time      : @0.083284s                                                                                                                                       
model     : Nexa-Security House Code: 8785315
Channel   : 3            State     : OFF           Unit      : 3             Group     : 0
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
time      : @0.163125s                                                                                                                                       
model     : KlikAanKlikUit-Switch                  id        : 8785315
Unit      : 0            Group Call: No            Command   : Off           Dim       : No            Dim Value : 0
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
time      : @0.163125s                                                                                                                                       
model     : Proove-Security                        House Code: 8785315
Channel   : 3            State     : OFF           Unit      : 3             Group     : 0
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
time      : @0.163125s                                                                                                                                       
model     : Nexa-Security House Code: 8785315
Channel   : 3            State     : OFF           Unit      : 3             Group     : 0
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
time      : @0.242956s                                                                                                                                       
model     : KlikAanKlikUit-Switch                  id        : 8785315
Unit      : 0            Group Call: No            Command   : Off           Dim       : No            Dim Value : 0
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
time      : @0.242956s                                                                                                                                       
model     : Proove-Security                        House Code: 8785315
Channel   : 3            State     : OFF           Unit      : 3             Group     : 0
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
time      : @0.242956s                                                                                                                                       
model     : Nexa-Security House Code: 8785315
Channel   : 3            State     : OFF           Unit      : 3             Group     : 0
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
time      : @0.383568s                                                                                                                                       
model     : KlikAanKlikUit-Switch                  id        : 8785315
Unit      : 0            Group Call: No            Command   : Off           Dim       : No            Dim Value : 0
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
time      : @0.383568s                                                                                                                                       
model     : Proove-Security                        House Code: 8785315
Channel   : 3            State     : OFF           Unit      : 3             Group     : 0
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
time      : @0.383568s                                                                                                                                       
model     : Nexa-Security House Code: 8785315
Channel   : 3            State     : OFF           Unit      : 3             Group     : 0
                                                                                                                                                             
```

Tarkastelin arvoja ja ymm√§rt√§√§kseni t√§ss√§ on t√§ysin samat arvon kuin teht√§v√§ss√§ c eli kysess√§ olisi mahdollisesti sama skannaus. 

---

### e) Ultimate. Asenna URH, the Ultimate Radio Hacker.

Karvisen ohjeella [^1] asensin seuraavasti:

```
sudo apt-get update
```

```
sudo apt-get -y install pipx
```

```
pipx install urh
```

T√∂rm√§sin erroriin

```bash
‚îå‚îÄ‚îÄ(parallels„âøkali-linux-2024-2)-[~/.local/state/pipx/log]
‚îî‚îÄ$ cat cmd_2025-04-16_00.47.52_pip_errors.log                               
PIP STDOUT
----------
Collecting urh
  Downloading urh-2.9.8.tar.gz (3.3 MB)
     ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ 3.3/3.3 MB 40.8 MB/s eta 0:00:00
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'error'

PIP STDERR
----------
  error: subprocess-exited-with-error
  
  √ó Getting requirements to build wheel did not run successfully.
  ‚îÇ exit code: 1
  ‚ï∞‚îÄ> [2 lines of output]
      You need Cython to build URH's extensions!
      You can get it e.g. with python3 -m pip install cython.
      [end of output]
  
  note: This error originates from a subprocess, and is likely not a problem with pip.
error: subprocess-exited-with-error

√ó Getting requirements to build wheel did not run successfully.
‚îÇ exit code: 1
‚ï∞‚îÄ> See above for output.

note: This error originates from a subprocess, and is likely not a problem with pip.
```

```bash
‚îå‚îÄ‚îÄ(parallels„âøkali-linux-2024-2)-[~/Documents/UniversalRadio/urh]
‚îî‚îÄ$ python3 -m pip install cython        
error: externally-managed-environment

√ó This environment is externally managed
‚ï∞‚îÄ> To install Python packages system-wide, try apt install
    python3-xyz, where xyz is the package you are trying to
    install.
    
    If you wish to install a non-Kali-packaged Python package,
    create a virtual environment using python3 -m venv path/to/venv.
    Then use path/to/venv/bin/python and path/to/venv/bin/pip. Make
    sure you have pypy3-venv installed.
    
    If you wish to install a non-Kali-packaged Python application,
    it may be easiest to use pipx install xyz, which will manage a
    virtual environment for you. Make sure you have pipx installed.
    
    For more information, refer to the following:
    * https://www.kali.org/docs/general-use/python3-external-packages/
    * /usr/share/doc/python3.13/README.venv

note: If you believe this is a mistake, please contact your Python installation or OS distribution provider. You can override this, at the risk of breaking your Python installation or OS, by passing --break-system-packages.
hint: See PEP 668 for the detailed specification.
```

Jostain syyst√§ mielenkiintoni her√§si ja menin tuolle "rikkin√§iselle tielle" ja asensin lopulta seuraavilla komennoilla:

```bash
‚îå‚îÄ‚îÄ(parallels„âøkali-linux-2024-2)-[~/Documents/UniversalRadio/urh]
‚îî‚îÄ$ python3 -m pip install cython --break-system-packages
Defaulting to user installation because normal site-packages is not writeable
Collecting cython
  Using cached Cython-3.0.12-cp313-cp313-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (3.5 kB)
Using cached Cython-3.0.12-cp313-cp313-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (3.4 MB)
Installing collected packages: cython
Successfully installed cython-3.0.12
```

```bash
‚îå‚îÄ‚îÄ(parallels„âøkali-linux-2024-2)-[~/Documents/UniversalRadio/urh]
‚îî‚îÄ$ pip install urh --break-system-package
Defaulting to user installation because normal site-packages is not writeable
Collecting urh
  Using cached urh-2.9.8.tar.gz (3.3 MB)
  Preparing metadata (setup.py) ... done
Requirement already satisfied: numpy<2.0.0 in /usr/lib/python3/dist-packages (from urh) (1.26.4)
Requirement already satisfied: psutil in /usr/lib/python3/dist-packages (from urh) (5.9.8)
Requirement already satisfied: cython in /home/parallels/.local/lib/python3.13/site-packages (from urh) (3.0.12)
Requirement already satisfied: setuptools in /usr/lib/python3/dist-packages (from urh) (75.8.0)
Building wheels for collected packages: urh
  Building wheel for urh (setup.py) ... done
  Created wheel for urh: filename=urh-2.9.8-cp313-cp313-linux_aarch64.whl size=6209398 sha256=46bc4cc2b0eca477953b92b465a1422d980a761a085c817e7d5bdb61c850ec09
  Stored in directory: /home/parallels/.cache/pip/wheels/dc/c4/e0/14b7b9e75d136a4a39d8965206e4c60de11e9ad3f33ef1f2e3
Successfully built urh
Installing collected packages: urh
Successfully installed urh-2.9.8
```

Jos ymm√§rr√§n t√§st√§ Stack Overflow keskustelusta [^10], t√§st√§ videosta [^11] ja Kalin dokumentaatiosta [^12] oikein, niin nyt minulla on hyvin todenn√§k√∂isesti sekaisin apt-get paketinhallinta ja pythonin paketinhallinta niin, ett√§ molemmat ilmeisesti asentavat python paketteja samaan ymp√§rist√∂√∂n. Kalin dokumentaation mukaan "it can quickly become a broken mess" [^12].

Seuraavaksi ajoin urh komennon ja urh ohjelman graaffinen k√§ytt√∂liittym√§ aukesi.

---

### f) Yleiskuva. Kuvaile n√§ytett√§ yleisesti: kuinka pitk√§, mill√§ taajuudella, milloin nauhoitettu? Milt√§ n√§yte silm√§m√§√§r√§isesti n√§ytt√§√§?

- Kolme napinpainallusta n√§kyy omina rypp√§in√§√§n ja jokaisessa on 
- Kesto on 5.49 sekuntia.
- Tajuus on ollut ymm√§rt√§√§kseni tiedoston nimess√§kin oleva 433.912MHz
- L√∂ysin p√§iv√§n i valikon takaa ja p√§iv√§m√§√§r√§n√§ oli keskiviikko, huhtikuu, 16. p√§iv√§ 2025.

Aloin miettim√§√§n ovatko nuo kolmen rypp√§√§t samanlaisia. Kopioitsin ensimm√§iet kymmenen ensimm√§isest√§ ja toisesta painalluksesta.

Ensimm√§inen painallus:

```
1111111111100000 [Pause: 2630 samples]
000000000011111 [Pause: 2683 samples]
1111 [Pause: 2697 samples]
1111111111100000000001111 [Pause: 3729 samples]
11111 [Pause: 2589 samples]
11111111111111 [Pause: 2748 samples]
11111111111111111 [Pause: 2052 samples]
1111111111 [Pause: 2529 samples]
000000000011111 [Pause: 2610 samples]
000000000000000000000000 [Pause: 2707 samples]
```

Toinen painallus:

```
111100000000000 [Pause: 2648 samples]
111100000000000 [Pause: 2651 samples]
111111 [Pause: 2537 samples]
1111000000111111111110000 [Pause: 2732 samples]
11111111111111111 [Pause: 2497 samples]
111111111111111 [Pause: 2636 samples]
111111111110000 [Pause: 2721 samples]
11111 [Pause: 2580 samples]
11111111111111 [Pause: 2728 samples]
11111111111000000000011111 [Pause: 2592 samples]
```

Eiv√§t ole samanlaiset. Mittaus ei my√∂sk√§√§n vastaa hubmartin videon tilannetta, jossa samplet olivat kesken√§√§n samanlaiset [^13].

---

### g) Bittist√§. Demoduloi signaali niin, ett√§ saat raakabittej√§. Mik√§ on oikea modulaatio? Miten pitk√§ yksi raakabitti on ajassa? Kuvaile t√§t√§ aikaa vertaamalla sit√§ johonkin. (Monissa singaaleissa on line encoding, eli lopullisia bittej√§ varten n√§it√§ "raakabittej√§" on viel√§ k√§sitelt√§v√§)

Kun katson taas uudelleen hubmartinin videota [^13] niin omani tilanteeni ei vastaa ollenkaan sit√§ mit√§ h√§nell√§:

![img_3.png](img/h3-aaltoja-harjaamassa/img_3.png)

Luettuani urh:n manuaalia [^15] ja verrattuani hubmartinin videota, aloin mietti√§, ett√§ olen tehnyt jotain varmaan v√§√§rin, koska ymm√§rt√§√§kseni tuon autodetectionin pit√§isi jossain m√§√§rin l√∂yt√§√§ nuo arvot, mutta itsell√§n ne eiv√§t olleet l√§hell√§k√§√§n ja katsoin, mit√§ Nurminen [^16] oli t√§ss√§ tehnyt. Nurmisella n√§ytti arvot menev√§n Autodetectill√§ ik√§√§n kuin "j√§rjestykseen" samalla tavalla kuin hubmartinilla. Miksik√∂h√§n minulla ei mene ü§î

Vaihdoin vasemmalla olevan valikon arvot samaan kuin Nurmisella, mutta lukemat eiv√§t siltik√§√§n ymm√§rt√§√§kseni olleet oikein ja joissain kohdissa, miss√§ pit√§isi olla 0, oli 1 (korjaamiseksi olen nostanut noisea ja tarkentanut pituutta):

![img_4.png](img/h3-aaltoja-harjaamassa/img_4.png)

Palasin my√∂s siihen miksik√∂h√§n tuo pipx asentaminen ei onnistunut. Kokeilin asentee urh:n pipx:ll√§ Parallelsilla olevaan Debianiin ja sill√§k√§√§n ei asennus onnistunut kuten Teron ohjeissa [^1] ja kuten Nurmisella oli toiminut [^16]. Kokeilen viel√§ UTM:n Kalilla mit√§ tapahtuu ja sama ongelma. Samoin k√§vi my√∂s Ubuntulla (parallels), joka py√∂rii rosetalla. Googlailin t√§t√§ jonkinaikaa ja ongelma on varmaan joku suht helppo ja perus Python ymp√§rist√∂ asia, mutta koska olen t√§ysin kokomaton pythonin kanssa, niin en osaa sit√§ t√§ss√§ nyt ratkaista. 

Vika voi olla my√∂s t√§ysin siin√§, ett√§ olen urh:ia s√§√§t√§ess√§ni tehnyt jonkun virheen. 

My√∂s hubmartinin [^13] ja Nurmisen [^16] tekem√§ signal viewi demodulated valinnassa n√§ytt√§√§ t√§ysin erilaiselta kuin minun (mik√§ on varmaankin ilmeist√§kin, koska ykk√∂set ja nollat on v√§√§rin):

![img_5.png](img/h3-aaltoja-harjaamassa/img_5.png)

![img_6.png](img/h3-aaltoja-harjaamassa/img_6.png)

Nurmisen teht√§v√§st√§ selvi√§√§, ett√§ modulaatio oli ASK ja yhden raakabitin aika 522 mikrosekuntia [^16]. Yksi mikrosekunti on yksi miljoonasosa sekunnista [^17].

---

## L√§hteet

[^1]: Tero Karvinen. Verkkoon tunkeutuminen ja tiedustelu: https://terokarvinen.com/verkkoon-tunkeutuminen-ja-tiedustelu/

[^2]: WebSDR. http://websdr.org

[^3]: WebSDR. University of Twende http://websdr.ewi.utwente.nl:8901

[^4]: Wikipedia. Radioaallot: https://fi.wikipedia.org/wiki/Radioaallot

[^5]: everythingRF. Frequency to Wavelength Calculator: https://www.everythingrf.com/rf-calculators/frequency-to-wavelength

[^6]: merbanan. rtl_433: https://github.com/merbanan/rtl_433 

[^7]: man rtl_433

[^8]: KlikAanKlikUit. Producten: https://klikaanklikuit.nl/producten/?_gl=1*1r9n6wb*_up*MQ..*_ga*MTYzOTQ5NTk1MS4xNzQ0NzQ3MDU4*_ga_80MYW0KYPQ*MTc0NDc0NzA1OC4xLjAuMTc0NDc0NzA1OC4wLjAuMTYwNjc1ODA5MQ..

[^9]: merbanan. rtl_433/docs/IQ_FORMATS.md: Introduction to I/Q formats: https://github.com/merbanan/rtl_433/blob/ac1e4a8c5a36fb90e3b06c0f01cef00bb3b2614d/docs/IQ_FORMATS.md#file-name-meta-data

[^10]: Stack Overflow. pip install -r requirements.txt is failing: https://stackoverflow.com/questions/75602063/pip-install-r-requirements-txt-is-failing-this-environment-is-externally-mana

[^11]: webpwnized. Solving "Error: Externally Managed Environment" When Installing Python Packages | Quick Fix Guide: https://www.youtube.com/watch?v=VtjZFWqWisk

[^12]: Kali. Installing Python Applications via pipx: https://www.kali.org/docs/general-use/python3-external-packages/

[^13]: hubmartin. Universal Radio Hacker SDR Tutorial on 433 MHz radio plugs: https://www.youtube.com/watch?v=sbqMqb6FVMY&t=199s

[^14]: Cornelius. Decode 433.92 MHz weather station data: https://www.onetransistor.eu/2022/01/decode-433mhz-ask-signal.html 

[^15]: urh. userguide: https://www.oldergeeks.com/downloads/files/userguide.pdf

[^16]: nurminenkasper. h3 Aaltoja Harjaamassa: https://github.com/nurminenkasper/Verkkoon-tunkeutuminen-ja-tiedustelu/blob/main/h3/h3-Aaltoja-harjaamassa.md

[^17]: Wikipedia. Microsecond: https://en.wikipedia.org/wiki/Microsecond